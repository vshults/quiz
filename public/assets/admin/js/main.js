function handleReorderElements(){var t=$(".connectedSortable").sortable("serialize");t+="&action=reorderElements",$.post("{{$sortQuestions}}",t).done((function(t){reorderElementsResponse(t)}))}function initSortableContainer(){$((function(){$(".connectedSortable").sortable({containment:".content",placeholder:"sort-highlight",stop:handleReorderElements,connectWith:".connectedSortable",handle:".card-header, .nav-tabs",forcePlaceholderSize:!0,zIndex:999999}),$(".connectedSortable .card-header").css("cursor","move"),$(".todo-list").sortable({placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999})}))}function handleReorderElements(){var t=$(".connectedSortable").sortable("serialize");t+="&action=reorderElements",$.post("/admin/sortQuestions",t).done((function(t){reorderElementsResponse(t)}))}function reorderElementsResponse(t){void 0===t.FAIL?$("#Message").html(t.resultString+t.itemIndexString):alert("Bad Clams!")}$(document).ready((function(){let t=$("#MostPopularAnswersLabels").text(),e=JSON.parse(t),n=$("#MostPopularAnswersValues").text(),o=JSON.parse(n),s=$("#MostPopularAnswersColorsData").text(),a=JSON.parse(s);var i=$("#MostPopularAnswers");new Chart(i,{type:"doughnut",data:{labels:e,datasets:[{data:o,backgroundColor:a}]},options:{title:{display:!0,text:"Самые популярные ответы"}}})})),$(document).ready((function(){let t=$("#QuestionsOftenLeftLabels").text(),e=JSON.parse(t),n=$("#QuestionsOftenLeftValues").text(),o=JSON.parse(n),s=$("#MostPopularAnswersColorsData").text(),a=JSON.parse(s);var i=$("#QuestionsOftenLeft");new Chart(i,{type:"doughnut",data:{labels:e,datasets:[{data:o,backgroundColor:a}]},options:{title:{display:!0,text:"Вопросы на которых чаще всего бросают отвечать"}}})})),function(t,e,n,o){"use strict";if(!n)return o;var s,a={speed:330,loop:!0,opacity:"auto",margin:[44,0],gutter:30,infobar:!0,buttons:!0,slideShow:!0,fullScreen:!0,thumbs:!0,closeBtn:!0,smallBtn:"auto",image:{preload:"auto",protect:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,scrolling:"no",css:{}},baseClass:"",slideClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-controls"><div class="fancybox-infobar"><button data-fancybox-previous class="fancybox-button fancybox-button--left" title="Previous"></button><div class="fancybox-infobar__body"><span class="js-fancybox-index"></span>&nbsp;/&nbsp;<span class="js-fancybox-count"></span></div><button data-fancybox-next class="fancybox-button fancybox-button--right" title="Next"></button></div><div class="fancybox-buttons"><button data-fancybox-close class="fancybox-button fancybox-button--close" title="Close (Esc)"></button></div></div><div class="fancybox-slider-wrap"><div class="fancybox-slider"></div></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>The requested content cannot be loaded. <br /> Please try again later.<p></div>',closeTpl:'<button data-fancybox-close class="fancybox-close-small">×</button>',parentEl:"body",touch:!0,keyboard:!0,focus:!0,closeClickOutside:!0,beforeLoad:n.noop,afterLoad:n.noop,beforeMove:n.noop,afterMove:n.noop,onComplete:n.noop,onInit:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop},i=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},u=function(t,o,s){var i=this;i.opts=n.extend(!0,{index:s},a,o||{}),i.id=i.opts.id||++c,i.group=[],i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=null,i.createGroup(t),i.group.length&&(i.$lastFocus=n(e.activeElement),i.elems={},i.slides={},i.init(t))};function h(t){var e=t.currentTarget,o=t.data?t.data.options:{},s=t.data?t.data.items:[],a="",i=0;t.preventDefault(),t.stopPropagation(),n(e).attr("data-fancybox")&&(a=n(e).data("fancybox")),a?i=(s=s.length?s.filter('[data-fancybox="'+a+'"]'):n("[data-fancybox="+a+"]")).index(e):s=[e],n.fancybox.open(s,o,i)}n.extend(u.prototype,{init:function(){var t,e,o=this;o.scrollTop=i.scrollTop(),o.scrollLeft=i.scrollLeft(),n.fancybox.isTouch||n("html").hasClass("fancybox-enabled")||(t=n("body").width(),n("html").addClass("fancybox-enabled"),(t=n("body").width()-t)>1&&n('<style id="fancybox-noscroll" type="text/css">').html(".compensate-for-scrollbar, .fancybox-enabled body { margin-right: "+t+"px; }").appendTo("head")),e=n(o.opts.baseTpl).attr("id","fancybox-container-"+o.id).data("FancyBox",o).addClass(o.opts.baseClass).hide().prependTo(o.opts.parentEl),o.$refs={container:e,bg:e.find(".fancybox-bg"),controls:e.find(".fancybox-controls"),buttons:e.find(".fancybox-buttons"),slider_wrap:e.find(".fancybox-slider-wrap"),slider:e.find(".fancybox-slider"),caption:e.find(".fancybox-caption")},o.trigger("onInit"),o.activate(),o.current||o.jumpTo(o.currIndex)},createGroup:function(t){var e=this,s=n.makeArray(t);n.each(s,(function(t,s){var a,i,r,c,l,d={},u={};n.isPlainObject(s)?(d=s,u=s.opts||{}):"object"===n.type(s)&&n(s).length?(u="options"in(i=(a=n(s)).data())?i.options:{},u="object"===n.type(u)?u:{},d.type="type"in i?i.type:u.type,d.src="src"in i?i.src:u.src||a.attr("href"),u.width="width"in i?i.width:u.width,u.height="height"in i?i.height:u.height,u.thumb="thumb"in i?i.thumb:u.thumb,u.caption="caption"in i?i.caption:u.caption||a.attr("title"),u.selector="selector"in i?i.selector:u.selector,u.$orig=a):d={type:"html",content:s+""},d.opts=n.extend(!0,{},e.opts,u),r=d.type,c=d.src||"",r||(d.content?r="html":c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?r="image":c.match(/\.(pdf)((\?|#).*)?$/i)?r="pdf":"#"===c.charAt(0)&&(r="inline"),d.type=r),d.index=e.group.length,d.opts.$orig&&!d.opts.$orig.length&&delete d.opts.$orig,!d.opts.$thumb&&d.opts.$orig&&(d.opts.$thumb=d.opts.$orig.find("img:first")),d.opts.$thumb&&!d.opts.$thumb.length&&delete d.opts.$thumb,"function"===n.type(e.opts.caption)?d.opts.caption=e.opts.caption.apply(s,[e,d]):d.opts.caption=d.opts.caption===o?"":d.opts.caption+"","ajax"===r&&(l=c.split(/\s+/,2)).length>1&&(d.src=l.shift(),d.opts.selector=l.shift()),"auto"==d.opts.smallBtn&&(n.inArray(r,["html","inline","ajax"])>-1?(d.opts.buttons=!1,d.opts.smallBtn=!0):d.opts.smallBtn=!1),"pdf"===r&&(d.type="iframe",d.opts.closeBtn=!0,d.opts.smallBtn=!1,d.opts.iframe.preload=!1),d.opts.modal&&n.extend(!0,d.opts,{infobar:0,buttons:0,keyboard:0,slideShow:0,fullScreen:0,closeClickOutside:0}),e.group.push(d)}))},addEvents:function(){var o=this,s=function(){i.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft),o.$refs.slider_wrap.show(),o.update()};o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",(function(t){t.stopPropagation(),t.preventDefault(),o.close(t)})).on("click.fb-previous","[data-fancybox-previous]",(function(t){t.stopPropagation(),t.preventDefault(),o.previous()})).on("click.fb-next","[data-fancybox-next]",(function(t){t.stopPropagation(),t.preventDefault(),o.next()})),n(t).on("orientationchange.fb resize.fb",(function(t){d((function(){"orientationchange"==t.type?(o.$refs.slider_wrap.hide(),d(s)):s()}))})),r.on("focusin.fb",(function(t){var e;n.fancybox&&(!(e=n.fancybox.getInstance())||n(t.target).hasClass("fancybox-container")||n.contains(e.$refs.container[0],t.target)||(t.stopPropagation(),e.focus()))})),n(e).on("keydown.fb",(function(t){var e=o.current,s=t.keyCode||t.which;if(e&&e.opts.keyboard&&!n(t.target).is("input")&&!n(t.target).is("textarea")){if(8===s||27===s)return t.preventDefault(),void o.close();switch(s){case 37:case 38:t.preventDefault(),o.previous();break;case 39:case 40:t.preventDefault(),o.next();break;case 80:case 32:t.preventDefault(),o.SlideShow&&(t.preventDefault(),o.SlideShow.toggle());break;case 70:o.FullScreen&&(t.preventDefault(),o.FullScreen.toggle());break;case 71:o.Thumbs&&(t.preventDefault(),o.Thumbs.toggle())}}}))},removeEvents:function(){i.off("scroll.fb resize.fb orientationchange.fb"),r.off("keydown.fb focusin.fb click.fb-close"),this.$refs.container.off("click.fb-close click.fb-previous click.fb-next")},previous:function(t){this.jumpTo(this.currIndex-1,t)},next:function(t){this.jumpTo(this.currIndex+1,t)},jumpTo:function(t,e){var n,s,a,i,r=this;if(n=r.firstRun=null===r.firstRun,s=a=t=parseInt(t,10),i=!!r.current&&r.current.opts.loop,!r.isAnimating&&(s!=r.currIndex||n)){if(r.group.length>1&&i)s=(s%=r.group.length)<0?r.group.length+s:s,2==r.group.length?a=t-r.currIndex+r.currPos:(a=s-r.currIndex+r.currPos,Math.abs(r.currPos-(a+r.group.length))<Math.abs(r.currPos-a)?a+=r.group.length:Math.abs(r.currPos-(a-r.group.length))<Math.abs(r.currPos-a)&&(a-=r.group.length));else if(!r.group[s])return void r.update(!1,!1,e);r.current&&(r.current.$slide.removeClass("fancybox-slide--current fancybox-slide--complete"),r.updateSlide(r.current,!0)),r.prevIndex=r.currIndex,r.prevPos=r.currPos,r.currIndex=s,r.currPos=a,r.createSlide(a),r.group.length>1&&((r.opts.loop||a-1>=0)&&r.createSlide(a-1),(r.opts.loop||a+1<r.group.length)&&r.createSlide(a+1)),r.current=r.slides[a],r.current.isMoved=!1,r.current.isComplete=!1,e=parseInt(e===o?1.5*r.current.opts.speed:e,10),r.trigger("beforeMove"),r.updateControls(),n&&(r.current.$slide.addClass("fancybox-slide--current"),r.$refs.container.show(),d((function(){r.$refs.bg.css("transition-duration",r.current.opts.speed+"ms"),r.$refs.container.addClass("fancybox-container--ready")}))),r.update(!0,!1,n?0:e,(function(){r.afterMove()})),r.loadSlide(r.current),n&&r.current.$ghost||r.preload()}},createSlide:function(t){var e,o,s=this;o=(o=t%s.group.length)<0?s.group.length+o:o,!s.slides[t]&&s.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(s.$refs.slider),s.slides[t]=n.extend(!0,{},s.group[o],{pos:t,$slide:e,isMoved:!1,isLoaded:!1}))},zoomInOut:function(o,s,a){var i,r,c,l,u,h=this,p=h.current,f=p.$placeholder,g=p.opts.opacity,b=p.opts.$thumb,m=b?b.offset():0,y=p.$slide.offset();return!!(f&&p.isMoved&&m&&(l=b,"function"==typeof n&&l instanceof n&&(l=l[0]),(u=l.getBoundingClientRect()).bottom>0&&u.right>0&&u.left<(t.innerWidth||e.documentElement.clientWidth)&&u.top<(t.innerHeight||e.documentElement.clientHeight)))&&(!("In"===o&&!h.firstRun)&&(n.fancybox.stop(f),h.isAnimating=!0,i={top:m.top-y.top+parseFloat(b.css("border-top-width")||0),left:m.left-y.left+parseFloat(b.css("border-left-width")||0),width:b.width(),height:b.height(),scaleX:1,scaleY:1},"auto"==g&&(g=Math.abs(p.width/p.height-i.width/i.height)>.1),"In"===o?(r=i,(c=h.getFitPos(p)).scaleX=c.width/r.width,c.scaleY=c.height/r.height,g&&(r.opacity=.1,c.opacity=1)):(r=n.fancybox.getTranslate(f),c=i,p.$ghost&&(p.$ghost.show(),p.$image&&p.$image.remove()),r.scaleX=r.width/c.width,r.scaleY=r.height/c.height,r.width=c.width,r.height=c.height,g&&(c.opacity=0)),h.updateCursor(c.width,c.height),delete c.width,delete c.height,n.fancybox.setTranslate(f,r),f.show(),h.trigger("beforeZoom"+o),d((function(){f.css("transition","all "+s+"ms"),n.fancybox.setTranslate(f,c),setTimeout((function(){var t;f.css("transition","none"),(t=n.fancybox.getTranslate(f)).scaleX=1,t.scaleY=1,n.fancybox.setTranslate(f,t),h.trigger("afterZoom"+o),a.apply(h),h.isAnimating=!1}),s)})),!0))},canPan:function(){var t=this.current,e=t.$placeholder,n=!1;return e&&(n=this.getFitPos(t),n=Math.abs(e.width()-n.width)>1||Math.abs(e.height()-n.height)>1),n},isScaledDown:function(){var t=this.current,e=t.$placeholder,o=!1;return e&&(o=(o=n.fancybox.getTranslate(e)).width<t.width||o.height<t.height),o},scaleToActual:function(t,e,s){var a,i,r,c,l,d=this,u=d.current,h=u.$placeholder,p=parseInt(u.$slide.width(),10),f=parseInt(u.$slide.height(),10),g=u.width,b=u.height;h&&(d.isAnimating=!0,t=t===o?.5*p:t,e=e===o?.5*f:e,c=g/(a=n.fancybox.getTranslate(h)).width,l=b/a.height,i=.5*p-.5*g,r=.5*f-.5*b,g>p&&((i=a.left*c-(t*c-t))>0&&(i=0),i<p-g&&(i=p-g)),b>f&&((r=a.top*l-(e*l-e))>0&&(r=0),r<f-b&&(r=f-b)),d.updateCursor(g,b),n.fancybox.animate(h,null,{top:r,left:i,scaleX:c,scaleY:l},s||u.opts.speed,(function(){d.isAnimating=!1})))},scaleToFit:function(t){var e,o=this,s=o.current,a=s.$placeholder;a&&(o.isAnimating=!0,e=o.getFitPos(s),o.updateCursor(e.width,e.height),n.fancybox.animate(a,null,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||s.opts.speed,(function(){o.isAnimating=!1})))},getFitPos:function(t){var e,o,s,a,r,c=t.$placeholder||t.$content,l=t.width,d=t.height,u=t.opts.margin;return!(!c||!c.length||!l&&!d)&&("number"===n.type(u)&&(u=[u,u]),2==u.length&&(u=[u[0],u[1],u[0],u[1]]),i.width()<800&&(u=[0,0,0,0]),e=parseInt(t.$slide.width(),10)-(u[1]+u[3]),o=parseInt(t.$slide.height(),10)-(u[0]+u[2]),s=Math.min(1,e/l,o/d),a=Math.floor(s*l),r=Math.floor(s*d),{top:Math.floor(.5*(o-r))+u[0],left:Math.floor(.5*(e-a))+u[3],width:a,height:r})},update:function(t,e,o,s){var a=this,i=a.current.pos*Math.floor(a.current.$slide.width())*-1-a.current.pos*a.current.opts.gutter;!0!==a.isAnimating&&(o=parseInt(o,10)||0,n.fancybox.stop(a.$refs.slider),!1===t?a.updateSlide(a.current,e):n.each(a.slides,(function(t,n){a.updateSlide(n,e)})),o?n.fancybox.animate(a.$refs.slider,null,{top:0,left:i},o,(function(){a.current.isMoved=!0,"function"===n.type(s)&&s.apply(a)})):(n.fancybox.setTranslate(a.$refs.slider,{top:0,left:i}),a.current.isMoved=!0,"function"===n.type(s)&&s.apply(a)))},updateSlide:function(t,e){var o=this,s=t.$placeholder;(t=t||o.current)&&!o.isClosing&&(n.fancybox.setTranslate(t.$slide,{top:0,left:t.pos*Math.floor(t.$slide.width())+t.pos*t.opts.gutter}),!1!==e&&s&&(n.fancybox.setTranslate(s,o.getFitPos(t)),t.pos===o.currPos&&o.updateCursor()),t.$slide.trigger("refresh"),o.trigger("onUpdate",t))},updateCursor:function(t,e){var n=this,s=n.$refs.container.removeClass("fancybox-controls--canzoomIn fancybox-controls--canzoomOut fancybox-controls--canGrab");!n.isClosing&&n.opts.touch&&((t!==o&&e!==o?t<n.current.width&&e<n.current.height:n.isScaledDown())?s.addClass("fancybox-controls--canzoomIn"):n.group.length<2?s.addClass("fancybox-controls--canzoomOut"):s.addClass("fancybox-controls--canGrab"))},loadSlide:function(t){var e,o,s,a=this;if(t&&!t.isLoaded&&!t.isLoading){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,(o=t.$slide).unbind("refresh").trigger("onReset").addClass("fancybox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.content);break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),s=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",(function(){s.abort()}));break;default:a.setError(t)}return!0}},setImage:function(t){var e=this;!t.isLoaded||t.hasError?(t.$placeholder=n('<div class="fancybox-placeholder"></div>').hide().appendTo(t.$slide),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=n("<img />").one("load error",(function(){e.isClosing||(n("<img/>")[0].src=t.src,e.revealImage(t,(function(){e.setBigImage(t),e.firstRun&&t.index===e.currIndex&&e.preload()})))})).addClass("fancybox-image").appendTo(t.$placeholder).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):e.setBigImage(t)):e.afterLoad(t)},setBigImage:function(t){var e=this,o=n("<img />");t.opts.image.protect&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$placeholder),t.$image=o.one("error",(function(){e.setError(t)})).one("load",(function(){e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,e.afterLoad(t),t.$ghost&&(t.timouts=setTimeout((function(){t.$ghost.hide()}),350)))})).addClass("fancybox-image").appendTo(t.$placeholder).attr("src",t.src),o[0].complete?o.trigger("load"):o[0].error?o.trigger("error"):t.timouts=setTimeout((function(){o[0].complete||t.hasError||e.showLoading(t)}),150)},revealImage:function(t,e){var o=this;e=e||n.noop,"image"!==t.type||t.hasError||!0===t.isRevealed?e.apply(o):(t.isRevealed=!0,t.pos===o.currPos&&o.zoomInOut("In",t.opts.speed,e)||(t.$ghost&&!t.isLoaded&&o.updateSlide(t,!0),t.pos===o.currPos?n.fancybox.animate(t.$placeholder,{opacity:0},{opacity:1},300,e):t.$placeholder.show(),e.apply(o)))},setIframe:function(t){var e,s=this,a=t.opts.iframe,i=t.$slide;t.$content=n('<div class="fancybox-content"></div>').css(a.css).appendTo(i),e=n(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",n.fancybox.isTouch?"auto":a.scrolling).appendTo(t.$content),a.preload?(t.$content.addClass("fancybox-tmp"),s.showLoading(t),e.on("load.fb error.fb",(function(e){this.isReady=1,t.$slide.trigger("refresh"),s.afterLoad(t)})),i.on("refresh.fb",(function(){var n,s,i,r,c=t.$content;if(1===e[0].isReady){try{n=e.contents().find("body")}catch(t){}n&&n.length&&(a.css.width===o||a.css.height===o)&&(s=e[0].contentWindow.document.documentElement.scrollWidth,i=Math.ceil(n.outerWidth(!0)+(c.width()-s)),r=Math.ceil(n.outerHeight(!0)),c.css({width:a.css.width===o?i+(c.outerWidth()-c.innerWidth()):a.css.width,height:a.css.height===o?r+(c.outerHeight()-c.innerHeight()):a.css.height})),c.removeClass("fancybox-tmp")}}))):this.afterLoad(t),e.attr("src",t.src),t.opts.smallBtn&&t.$content.prepend(t.opts.closeTpl),i.one("onReset",(function(){try{n(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}n(this).empty(),t.isLoaded=!1}))},setContent:function(t,e){this.isClosing||(this.hideLoading(t),t.$slide.empty(),l(e)&&e.parent().length?(e.data("placeholder")&&e.parents(".fancybox-slide").trigger("onReset"),e.data({placeholder:n("<div></div>").hide().insertAfter(e)}).css("display","inline-block")):("string"===n.type(e)&&3===(e=n("<div>").append(e).contents())[0].nodeType&&(e=n("<div>").html(e)),t.opts.selector&&(e=n("<div>").html(e).find(t.opts.selector))),t.$slide.one("onReset",(function(){var o=l(e)?e.data("placeholder"):0;o&&(e.hide().replaceAll(o),e.data("placeholder",null)),t.hasError||(n(this).empty(),t.isLoaded=!1)})),t.$content=n(e).appendTo(t.$slide),!0===t.opts.smallBtn&&t.$content.find(".fancybox-close-small").remove().end().eq(0).append(t.opts.closeTpl),this.afterLoad(t))},setError:function(t){t.hasError=!0,this.setContent(t,t.opts.errorTpl)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=n(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterMove:function(){var t=this,e=t.current,o={};e&&(e.$slide.siblings().trigger("onReset"),n.each(t.slides,(function(e,n){n.pos>=t.currPos-1&&n.pos<=t.currPos+1?o[n.pos]=n:n&&n.$slide.remove()})),t.slides=o,t.trigger("afterMove"),e.isLoaded&&t.complete())},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.$ghost||e.updateSlide(t,!0),t.index===e.currIndex&&t.isMoved?e.complete():t.$ghost||e.revealImage(t))},complete:function(){var t=this,e=t.current;t.revealImage(e,(function(){e.isComplete=!0,e.$slide.addClass("fancybox-slide--complete"),t.updateCursor(),t.trigger("onComplete"),e.opts.focus&&t.focus()}))},preload:function(){var t,e,n=this;n.group.length<2||(t=n.slides[n.currPos+1],e=n.slides[n.currPos-1],t&&"image"===t.type&&n.loadSlide(t),e&&"image"===e.type&&n.loadSlide(e))},focus:function(){var t=this.current&&this.current.isComplete?this.current.$slide.find('button,:input,[tabindex],a:not(".disabled")').filter(":visible:first"):null;t&&t.length||(t=this.$refs.container),t.focus(),this.$refs.slider_wrap.scrollLeft(0),this.current&&this.current.$slide.scrollTop(0)},activate:function(){var t=this;n(".fancybox-container").each((function(){var e=n(this).data("FancyBox");e&&e.uid!==t.uid&&!e.isClosing&&e.trigger("onDeactivate")})),t.current&&(t.$refs.container.index()>0&&t.$refs.container.prependTo(e.body),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t){var e=this,o=e.current,s=o.opts.speed,a=n.proxy((function(){e.cleanUp(t)}),this);if(e.isAnimating||e.isClosing)return!1;e.isClosing=!0,o.timouts&&clearTimeout(o.timouts),!0!==t&&n.fancybox.stop(e.$refs.slider),e.$refs.container.removeClass("fancybox-container--active").addClass("fancybox-container--closing"),o.$slide.removeClass("fancybox-slide--complete").siblings().remove(),o.isMoved||o.$slide.css("overflow","visible"),e.removeEvents(),e.hideLoading(o),e.hideControls(),e.updateCursor(),e.trigger("beforeClose",o,t),e.$refs.bg.css("transition-duration",s+"ms"),this.$refs.container.removeClass("fancybox-container--ready"),!0===t?setTimeout(a,s):e.zoomInOut("Out",s,a)||n.fancybox.animate(e.$refs.container,null,{opacity:0},s,"easeInSine",a)},cleanUp:function(t){var e,o=this;o.$refs.slider.children().trigger("onReset"),o.$refs.container.empty().remove(),o.current=null,o.trigger("afterClose",t),(e=n.fancybox.getInstance())?e.activate():(n("html").removeClass("fancybox-enabled"),n("#fancybox-noscroll").remove()),o.$lastFocus&&o.$lastFocus.focus(),i.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft)},trigger:function(t,e){var o=Array.prototype.slice.call(arguments,1),s=this,a=e&&e.opts?e:s.current;a?o.unshift(a):a=s,o.unshift(s),n.isFunction(a.opts[t])&&a.opts[t].apply(a,o),s.$refs.container.trigger(t+".fb",o)},toggleControls:function(t){this.isHiddenControls?this.updateControls(t):this.hideControls()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-controls"),this.$refs.container.removeClass("fancybox-show-caption")},updateControls:function(t){var e=this,o=e.$refs.container,s=e.$refs.caption,a=e.current,i=a.index,r=a.opts,c=r.caption;this.isHiddenControls&&!0!==t||(this.isHiddenControls=!1,e.$refs.container.addClass("fancybox-show-controls"),o.toggleClass("fancybox-show-infobar",!!r.infobar&&e.group.length>1).toggleClass("fancybox-show-buttons",!!r.buttons).toggleClass("fancybox-is-modal",!!r.modal),n(".fancybox-button--left",o).toggleClass("fancybox-button--disabled",!r.loop&&i<=0),n(".fancybox-button--right",o).toggleClass("fancybox-button--disabled",!r.loop&&i>=e.group.length-1),n(".fancybox-button--play",o).toggle(!!(r.slideShow&&e.group.length>1)),n(".fancybox-button--close",o).toggle(!!r.closeBtn),n(".js-fancybox-count",o).html(e.group.length),n(".js-fancybox-index",o).html(i+1),a.$slide.trigger("refresh"),s&&s.empty(),c&&c.length?(s.html(c),this.$refs.container.addClass("fancybox-show-caption "),e.$caption=s):this.$refs.container.removeClass("fancybox-show-caption"))}}),n.fancybox={version:"3.0.22",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-container--closing"):first').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof u&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new u(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},isTouch:e.createTouch!==o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(s=e.createElement("div"),t.getComputedStyle(s).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<=11)),getTranslate:function(t){var e,n;return!(!t||!t.length)&&(e=t.get(0).getBoundingClientRect(),{top:(n=(n=(n=t.eq(0).css("transform"))&&-1!==n.indexOf("matrix")?(n=(n=n.split("(")[1]).split(")")[0]).split(","):[]).length?(n=n.length>10?[n[13],n[12],n[0],n[5]]:[n[5],n[4],n[0],n[3]]).map(parseFloat):[0,0,1,1])[0],left:n[1],scaleX:n[2],scaleY:n[3],opacity:parseFloat(t.css("opacity")),width:e.width,height:e.height})},setTranslate:function(t,e){var n="",s={};if(t&&e)return e.left===o&&e.top===o||(n=(e.left===o?t.position().top:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(s.transform=n),e.opacity!==o&&(s.opacity=e.opacity),e.width!==o&&(s.width=e.width),e.height!==o&&(s.height=e.height),t.css(s)},easing:{easeOutCubic:function(t,e,n,o){return n*((t=t/o-1)*t*t+1)+e},easeInCubic:function(t,e,n,o){return n*(t/=o)*t*t+e},easeOutSine:function(t,e,n,o){return n*Math.sin(t/o*(Math.PI/2))+e},easeInSine:function(t,e,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+e}},stop:function(t){t.removeData("animateID")},animate:function(t,e,s,a,i,r){var c,l,u,h=this,p=null,f=0,g=function(n){if(c=[],l=0,t.length&&t.data("animateID")===u){if(n=n||Date.now(),p&&(l=n-p),p=n,(f+=l)>=a)return s.scaleX!==o&&s.scaleY!==o&&e.width!==o&&e.height!==o&&(s.width=e.width*s.scaleX,s.height=e.height*s.scaleY,s.scaleX=1,s.scaleY=1),h.setTranslate(t,s),void r();for(var b in s)s.hasOwnProperty(b)&&e[b]!==o&&(e[b]==s[b]?c[b]=s[b]:c[b]=h.easing[i](f,e[b],s[b]-e[b],a));h.setTranslate(t,c),d(g)}};if(h.animateID=u=h.animateID===o?1:h.animateID+1,t.data("animateID",u),r===o&&"function"==n.type(i)&&(r=i,i=o),i||(i="easeOutCubic"),r=r||n.noop,!a)return this.setTranslate(t,s),void r();e?this.setTranslate(t,e):e=this.getTranslate(t),t.show(),d(g)}},n.fn.fancybox=function(t){return this.off("click.fb-start").on("click.fb-start",{items:this,options:t||{}},h),this},n(e).on("click.fb-start","[data-fancybox]",h)}(window,document,window.jQuery),function(t){"use strict";var e=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,(function(t,n){e=e.replace("$"+t,n||"")})),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/((player\.)?vimeo(pro)?\.com)\/(video\/)?([\d]+)?(\?(.*))?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:7,type:"iframe",url:"//player.vimeo.com/video/$5"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}}};t(document).on("onInit.fb",(function(o,s){t.each(s.group,(function(o,s){var a,i,r,c,l,d,u,h=s.src||"",p=!1;s.type||(t.each(n,(function(n,o){if(i=h.match(o.matcher),l={},u=n,i){if(p=o.type,o.paramPlace&&i[o.paramPlace]){"?"==(c=i[o.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var f=0;f<c.length;++f){var g=c[f].split("=",2);2==g.length&&(l[g[0]]=decodeURIComponent(g[1].replace(/\+/g," ")))}}return o.idPlace&&(d=i[o.idPlace]),r=t.extend(!0,{},o.params,s.opts[n],l),h="function"===t.type(o.url)?o.url.call(this,i,r,s):e(o.url,i,r),a="function"===t.type(o.thumb)?o.thumb.call(this,i,r,s):e(o.thumb,i),!1}})),p?(s.src=h,s.type=p,s.opts.thumb||s.opts.$thumb&&s.opts.$thumb.length||(s.opts.thumb=a),d&&(s.opts.id=u+"-"+d),"iframe"===p&&(t.extend(!0,s.opts,{iframe:{preload:!1,scrolling:"no"},smallBtn:!1,closeBtn:!0,fullScreen:!1,slideShow:!1}),s.opts.slideClass+=" fancybox-slide--video")):s.type="iframe")}))}))}(window.jQuery),function(t,e,n){"use strict";var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},s=function(e){var n=[];for(var o in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},a=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},i=function(t){return t.is("a")||t.is("button")||t.is("input")||t.is("select")||t.is("textarea")||n.isFunction(t.get(0).onclick)},r=function(t){var e=this;e.instance=t,e.$wrap=t.$refs.slider_wrap,e.$slider=t.$refs.slider,e.$container=t.$refs.container,e.destroy(),e.$wrap.on("touchstart.fb mousedown.fb",n.proxy(e,"ontouchstart"))};r.prototype.destroy=function(){this.$wrap.off("touchstart.fb mousedown.fb touchmove.fb mousemove.fb touchend.fb touchcancel.fb mouseup.fb mouseleave.fb")},r.prototype.ontouchstart=function(e){var o=this,r=n(e.target),c=o.instance.current,l=c.$content||c.$placeholder;i(r)||i(r.parent())||function(e){for(var n,o,s,a,i,r=!1;n=e.get(0),o=void 0,s=void 0,a=void 0,i=void 0,o=t.getComputedStyle(n)["overflow-y"],s=t.getComputedStyle(n)["overflow-x"],a=("scroll"===o||"auto"===o)&&n.scrollHeight>n.clientHeight,i=("scroll"===s||"auto"===s)&&n.scrollWidth>n.clientWidth,!(r=a||i)&&(e=e.parent()).length&&!e.hasClass("fancybox-slider")&&!e.is("body"););return r}(r)&&!r.hasClass("fancybox-slide")||(e.stopPropagation(),e.preventDefault(),!c||o.instance.isAnimating||o.instance.isClosing||(o.startPoints=s(e),!o.startPoints||o.startPoints.length>1&&!c.isMoved||(o.$wrap.off("touchmove.fb mousemove.fb",n.proxy(o,"ontouchmove")),o.$wrap.off("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",n.proxy(o,"ontouchend")),o.$wrap.on("touchmove.fb mousemove.fb",n.proxy(o,"ontouchmove")),o.$wrap.on("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",n.proxy(o,"ontouchend")),o.$target=r,o.$content=l,o.startTime=(new Date).getTime(),o.distanceX=o.distanceY=o.distance=0,o.canvasWidth=Math.round(c.$slide.width()),o.canvasHeight=Math.round(c.$slide.height()),o.canTap=!1,o.isPanning=!1,o.isSwiping=!1,o.isZooming=!1,o.sliderStartPos=n.fancybox.getTranslate(o.$slider),o.contentStartPos=n.fancybox.getTranslate(o.$content),o.contentLastPos=null,1!==o.startPoints.length||o.isZooming||(o.canTap=c.isMoved,"image"===c.type&&(o.contentStartPos.width>o.canvasWidth+1||o.contentStartPos.height>o.canvasHeight+1)?(n.fancybox.stop(o.$content),o.isPanning=!0):(n.fancybox.stop(o.$slider),o.isSwiping=!0),o.$container.addClass("fancybox-controls--isGrabbing")),2===o.startPoints.length&&c.isMoved&&!c.hasError&&"image"===c.type&&(c.isLoaded||c.$ghost)&&(o.isZooming=!0,o.isSwiping=!1,o.isPanning=!1,n.fancybox.stop(o.$content),o.centerPointStartX=.5*(o.startPoints[0].x+o.startPoints[1].x)-n(t).scrollLeft(),o.centerPointStartY=.5*(o.startPoints[0].y+o.startPoints[1].y)-n(t).scrollTop(),o.percentageOfImageAtPinchPointX=(o.centerPointStartX-o.contentStartPos.left)/o.contentStartPos.width,o.percentageOfImageAtPinchPointY=(o.centerPointStartY-o.contentStartPos.top)/o.contentStartPos.height,o.startDistanceBetweenFingers=a(o.startPoints[0],o.startPoints[1])))))},r.prototype.ontouchmove=function(t){var e=this;t.preventDefault(),e.newPoints=s(t),e.newPoints&&e.newPoints.length&&(e.distanceX=a(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=a(e.newPoints[0],e.startPoints[0],"y"),e.distance=a(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()))},r.prototype.onSwipe=function(){var e,s=this,a=s.isSwiping,i=s.sliderStartPos.left;!0===a?Math.abs(s.distance)>10&&(s.instance.group.length<2?s.isSwiping="y":!s.instance.current.isMoved||!1===s.instance.opts.touch.vertical||"auto"===s.instance.opts.touch.vertical&&n(t).width()>800?s.isSwiping="x":(e=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=e>45&&e<135?"y":"x"),s.canTap=!1,s.instance.current.isMoved=!1,s.startPoints=s.newPoints):("x"==a&&(!s.instance.current.opts.loop&&0===s.instance.current.index&&s.distanceX>0?i+=Math.pow(s.distanceX,.8):!s.instance.current.opts.loop&&s.instance.current.index===s.instance.group.length-1&&s.distanceX<0?i-=Math.pow(-s.distanceX,.8):i+=s.distanceX),s.sliderLastPos={top:"x"==a?0:s.sliderStartPos.top+s.distanceY,left:i},o((function(){n.fancybox.setTranslate(s.$slider,s.sliderLastPos)})))},r.prototype.onPan=function(){var t,e,s,a=this;a.canTap=!1,t=a.contentStartPos.width>a.canvasWidth?a.contentStartPos.left+a.distanceX:a.contentStartPos.left,e=a.contentStartPos.top+a.distanceY,(s=a.limitMovement(t,e,a.contentStartPos.width,a.contentStartPos.height)).scaleX=a.contentStartPos.scaleX,s.scaleY=a.contentStartPos.scaleY,a.contentLastPos=s,o((function(){n.fancybox.setTranslate(a.$content,a.contentLastPos)}))},r.prototype.limitMovement=function(t,e,n,o){var s,a,i,r,c=this,l=c.canvasWidth,d=c.canvasHeight,u=c.contentStartPos.left,h=c.contentStartPos.top,p=c.distanceX,f=c.distanceY;return s=Math.max(0,.5*l-.5*n),a=Math.max(0,.5*d-.5*o),i=Math.min(l-n,.5*l-.5*n),r=Math.min(d-o,.5*d-.5*o),n>l&&(p>0&&t>s&&(t=s-1+Math.pow(-s+u+p,.8)||0),p<0&&t<i&&(t=i+1-Math.pow(i-u-p,.8)||0)),o>d&&(f>0&&e>a&&(e=a-1+Math.pow(-a+h+f,.8)||0),f<0&&e<r&&(e=r+1-Math.pow(r-h-f,.8)||0)),{top:e,left:t}},r.prototype.limitPosition=function(t,e,n,o){var s=this.canvasWidth,a=this.canvasHeight;return t=n>s?(t=t>0?0:t)<s-n?s-n:t:Math.max(0,s/2-n/2),{top:e=o>a?(e=e>0?0:e)<a-o?a-o:e:Math.max(0,a/2-o/2),left:t}},r.prototype.onZoom=function(){var e=this,s=e.contentStartPos.width,i=e.contentStartPos.height,r=e.contentStartPos.left,c=e.contentStartPos.top,l=a(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,d=Math.floor(s*l),u=Math.floor(i*l),h=(s-d)*e.percentageOfImageAtPinchPointX,p=(i-u)*e.percentageOfImageAtPinchPointY,f=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),g=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),b=f-e.centerPointStartX,m={top:c+(p+(g-e.centerPointStartY)),left:r+(h+b),scaleX:e.contentStartPos.scaleX*l,scaleY:e.contentStartPos.scaleY*l};e.canTap=!1,e.newWidth=d,e.newHeight=u,e.contentLastPos=m,o((function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)}))},r.prototype.ontouchend=function(t){var e=this,o=e.instance.current,a=Math.max((new Date).getTime()-e.startTime,1),i=e.isSwiping,r=e.isPanning,c=e.isZooming;if(e.endPoints=s(t),e.$container.removeClass("fancybox-controls--isGrabbing"),e.$wrap.off("touchmove.fb mousemove.fb",n.proxy(this,"ontouchmove")),e.$wrap.off("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",n.proxy(this,"ontouchend")),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.canTap)return e.ontap();e.velocityX=e.distanceX/a*.5,e.velocityY=e.distanceY/a*.5,e.speed=o.opts.speed,e.speedX=Math.max(.75*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityX)*e.speed)),e.speedY=Math.max(.75*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityY)*e.speed)),r?e.endPanning():c?e.endZooming():e.endSwiping(i)},r.prototype.endSwiping=function(t){var e=this;"y"==t&&Math.abs(e.distanceY)>50?(n.fancybox.animate(e.$slider,null,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,left:e.sliderStartPos.left,opacity:0},e.speedY),e.instance.close(!0)):"x"==t&&e.distanceX>50?e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50?e.instance.next(e.speedX):e.instance.update(!1,!0,Math.abs(e.distance)*e.speed/50)},r.prototype.endPanning=function(){var t,e,o,s=this;s.contentLastPos&&(t=s.contentLastPos.left+s.velocityX*s.speed*2,e=s.contentLastPos.top+s.velocityY*s.speed*2,(o=s.limitPosition(t,e,s.contentStartPos.width,s.contentStartPos.height)).width=s.contentStartPos.width,o.height=s.contentStartPos.height,n.fancybox.animate(s.$content,null,o,s.speed,"easeOutSine"))},r.prototype.endZooming=function(){var t,e,o,s,a=this,i=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,s={top:e=a.contentLastPos.top,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,s),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>i.width||c>i.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,null,o,a.speed,"easeOutSine")))},r.prototype.ontap=function(){var t=this,e=t.instance,o=e.current,s=t.endPoints[0].x,a=t.endPoints[0].y;if(s-=t.$wrap.offset().left,a-=t.$wrap.offset().top,!n.fancybox.isTouch)return o.opts.closeClickOutside&&t.$target.is(".fancybox-slide")?void e.close():void("image"==o.type&&o.isMoved&&(e.canPan()?e.scaleToFit():e.isScaledDown()?e.scaleToActual(s,a):e.group.length<2&&e.close()));if(t.tapped){if(clearTimeout(t.tapped),t.tapped=null,Math.abs(s-t.x)>50||Math.abs(a-t.y)>50||!o.isMoved)return this;"image"==o.type&&(o.isLoaded||o.$ghost)&&(e.canPan()?e.scaleToFit():e.isScaledDown()&&e.scaleToActual(s,a))}else t.x=s,t.y=a,t.tapped=setTimeout((function(){t.tapped=null,e.toggleControls(!0)}),300);return this},n(e).on("onActivate.fb",(function(t,e){e.opts.touch&&!e.Guestures&&(e.Guestures=new r(e))})),n(e).on("beforeClose.fb",(function(t,e){e.Guestures&&e.Guestures.destroy()}))}(window,document,window.jQuery),function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,speed:3e3,$button:null,init:function(){var t=this;t.$button=e('<button data-fancybox-play class="fancybox-button fancybox-button--play" title="Slideshow (P)"></button>').appendTo(t.instance.$refs.buttons),t.instance.$refs.container.on("click","[data-fancybox-play]",(function(){t.toggle()}))},set:function(){var t=this;t.instance&&t.instance.current&&t.instance.currIndex<t.instance.group.length-1?t.timer=setTimeout((function(){t.instance.next()}),t.speed):t.stop()},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this;t.stop(),t.instance&&t.instance.current&&t.instance.currIndex<t.instance.group.length-1&&(t.instance.$refs.container.on({"beforeLoad.fb.player":e.proxy(t,"clear"),"onComplete.fb.player":e.proxy(t,"set")}),t.instance.current.isComplete?t.set():t.timer=!0,t.instance.$refs.container.trigger("onPlayStart"),t.$button.addClass("fancybox-button--pause"))},stop:function(){var t=this;t.clear(),t.instance.$refs.container.trigger("onPlayEnd").off(".player"),t.$button.removeClass("fancybox-button--pause")},toggle:function(){var t=this;t.timer?t.stop():t.start()}}),e(t).on("onInit.fb",(function(t,e){e.opts.slideShow&&!e.SlideShow&&e.group.length>1&&(e.SlideShow=new n(e))})),e(t).on("beforeClose.fb onDeactivate.fb",(function(t,e){e.SlideShow&&e.SlideShow.stop()}))}(document,window.jQuery),function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{$button:null,init:function(){var n=this;n.isAvailable()&&(n.$button=e('<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="Full screen (F)"></button>').appendTo(n.instance.$refs.buttons),n.instance.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",(function(t){t.stopPropagation(),t.preventDefault(),n.toggle()})),e(t).on("onUpdate.fb",(function(t,e){n.$button.toggle(!!e.current.opts.fullScreen),n.$button.toggleClass("fancybox-button-shrink",n.isActivated())})),e(t).on("afterClose.fb",(function(){n.exit()})))},isAvailable:function(){var t=this.instance.$refs.container.get(0);return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)},isActivated:function(){return!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)},launch:function(){var t=this.instance.$refs.container.get(0);t&&!this.instance.isClosing&&(t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(t.ALLOW_KEYBOARD_INPUT))},exit:function(){t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()},toggle:function(){this.isActivated()?this.exit():this.isAvailable()&&this.launch()}}),e(t).on("onInit.fb",(function(t,e){e.opts.fullScreen&&!e.FullScreen&&(e.FullScreen=new n(e))}))}(document,window.jQuery),function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this;t.$button=e('<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="Thumbnails (G)"></button>').appendTo(this.instance.$refs.buttons).on("touchend click",(function(e){e.stopPropagation(),e.preventDefault(),t.toggle()}))},create:function(){var t,n,o=this.instance;this.$grid=e('<div class="fancybox-thumbs"></div>').appendTo(o.$refs.container),t="<ul>",e.each(o.group,(function(e,o){(n=o.opts.thumb||(o.opts.$thumb?o.opts.$thumb.attr("src"):null))||"image"!==o.type||(n=o.src),n&&n.length&&(t+='<li data-index="'+e+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+n+'" /></li>')})),t+="</ul>",this.$list=e(t).appendTo(this.$grid).on("click touchstart","li",(function(){o.jumpTo(e(this).data("index"))})),this.$list.find("img").hide().one("load",(function(){var t,n,o,s,a=e(this).parent().removeClass("fancybox-thumbs-loading"),i=a.outerWidth(),r=a.outerHeight();t=this.naturalWidth||this.width,s=(n=this.naturalHeight||this.height)/r,(o=t/i)>=1&&s>=1&&(o>s?(t/=s,n=r):(t=i,n/=o)),e(this).css({width:Math.floor(t),height:Math.floor(n),"margin-top":Math.min(0,Math.floor(.3*r-.3*n)),"margin-left":Math.min(0,Math.floor(.5*i-.5*t))}).show()})).each((function(){this.src=e(this).data("src")}))},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-container--thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.$grid.show(),this.focus()):this.$grid&&this.$grid.hide(),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible?this.hide():this.show()}}),e(t).on("onInit.fb",(function(t,e){e.opts.thumbs&&!e.Thumbs&&e.group.length>1&&("image"==e.group[0].type||e.group[0].opts.thumb)&&("image"==e.group[1].type||e.group[1].opts.thumb)&&(e.Thumbs=new n(e))})),e(t).on("beforeMove.fb",(function(t,e,n){var o=e.Thumbs;o&&(n.modal?(o.$button.hide(),o.hide()):(!0===e.opts.thumbs.showOnStart&&e.firstRun&&o.show(),o.$button.show(),o.isVisible&&o.focus()))})),e(t).on("beforeClose.fb",(function(t,e){e.Thumbs&&e.Thumbs.isVisible&&!1!==e.opts.thumbs.hideOnClosing&&e.Thumbs.close(),e.Thumbs=null}))}(document,window.jQuery),$(".connectedSortable").sortable({containment:".content",placeholder:"sort-highlight",stop:handleReorderElements,connectWith:".connectedSortable",handle:".card-header, .nav-tabs",forcePlaceholderSize:!0,zIndex:999999}),$(".connectedSortable .card-header").css("cursor","move"),$(".todo-list").sortable({placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999}),$(".connectedSortable").sortable({containment:".content",placeholder:"sort-highlight",stop:handleReorderElements,connectWith:".connectedSortable",handle:".card-header, .nav-tabs",forcePlaceholderSize:!0,zIndex:999999}),$(".connectedSortable .card-header").css("cursor","move"),$(".todo-list").sortable({placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999});
